{"ast":null,"code":"import _objectSpread from\"/Users/johnculbreth/Documents/GitHub/react-catfacts/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./Sidebar.css';import CatItem from'../../components/CatItem/CatItem.js';import{useCat,useCatUpdate,useSearch,useSearchUpdate}from'../../contexts.js';import{createElement as _createElement}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Sidebar(){//contexts\nvar selected=useCat();var select=useCatUpdate();var searchValue=useSearch();var search=useSearchUpdate();//search keystroke handling\nuseEffect(function(){var listener=function listener(event){if(event.code===\"Enter\"||event.code===\"NumpadEnter\"){event.preventDefault();var value=document.getElementById(\"search\").value;search(value);}};document.addEventListener(\"keydown\",listener);return function(){document.removeEventListener(\"keydown\",listener);};},[]);try{var cats=JSON.parse(localStorage.getItem(\"cats\"));if(cats&&Array.isArray(cats)){//filter sidebar by search value\nvar filteredCats=null;if(searchValue===\"\"||searchValue===undefined){filteredCats=cats;}else{filteredCats=cats.filter(function(cat){return searchValue.toLowerCase().includes(cat.name.toLowerCase());});}var itemComponents=filteredCats.map(function(cat,index){return/*#__PURE__*/_createElement(CatItem,_objectSpread(_objectSpread({},cat),{},{key:index}));});return/*#__PURE__*/_jsxs(\"div\",{className:\"items_wrapper\",\"data-testid\":\"Sidebar\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search_wrapper\",\"data-testid\":\"SearchBar\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"search_element\",id:\"search\",placeholder:\"Search Cats by Name\"}),/*#__PURE__*/_jsx(\"div\",{className:\"search_element\",children:\"Hit Enter Key to Search\"})]}),itemComponents]});}else{return\"Could not load cats.\";}}catch(error){return\"Could not load Sidebar\";}}export default Sidebar;","map":{"version":3,"sources":["/Users/johnculbreth/Documents/GitHub/react-catfacts/src/components/Sidebar/Sidebar.js"],"names":["React","useState","useEffect","CatItem","useCat","useCatUpdate","useSearch","useSearchUpdate","Sidebar","selected","select","searchValue","search","listener","event","code","preventDefault","value","document","getElementById","addEventListener","removeEventListener","cats","JSON","parse","localStorage","getItem","Array","isArray","filteredCats","undefined","filter","cat","toLowerCase","includes","name","itemComponents","map","index","error"],"mappings":"wIAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAO,eAAP,CACA,MAAOC,CAAAA,OAAP,KAAoB,qCAApB,CACA,OAASC,MAAT,CAAiBC,YAAjB,CAA+BC,SAA/B,CAA0CC,eAA1C,KAAiE,mBAAjE,C,2IAGA,QAASC,CAAAA,OAAT,EAAmB,CAEjB;AACA,GAAIC,CAAAA,QAAQ,CAAGL,MAAM,EAArB,CACA,GAAIM,CAAAA,MAAM,CAAGL,YAAY,EAAzB,CACA,GAAIM,CAAAA,WAAW,CAAGL,SAAS,EAA3B,CACA,GAAIM,CAAAA,MAAM,CAAGL,eAAe,EAA5B,CAEA;AAEAL,SAAS,CAAC,UAAM,CACd,GAAMW,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,CAAAC,KAAK,CAAI,CACxB,GAAIA,KAAK,CAACC,IAAN,GAAe,OAAf,EAA0BD,KAAK,CAACC,IAAN,GAAe,aAA7C,CAA4D,CAC1DD,KAAK,CAACE,cAAN,GACA,GAAIC,CAAAA,KAAK,CAAGC,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkCF,KAA9C,CACAL,MAAM,CAACK,KAAD,CAAN,CACD,CACF,CAND,CAOAC,QAAQ,CAACE,gBAAT,CAA0B,SAA1B,CAAqCP,QAArC,EACA,MAAO,WAAM,CACXK,QAAQ,CAACG,mBAAT,CAA6B,SAA7B,CAAwCR,QAAxC,EACD,CAFD,CAGD,CAZQ,CAYN,EAZM,CAAT,CAcA,GAAI,CACF,GAAIS,CAAAA,IAAI,CAAGC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,MAArB,CAAX,CAAX,CACA,GAAGJ,IAAI,EAAIK,KAAK,CAACC,OAAN,CAAcN,IAAd,CAAX,CAA+B,CAC7B;AACA,GAAIO,CAAAA,YAAY,CAAG,IAAnB,CACA,GAAIlB,WAAW,GAAK,EAAhB,EAAsBA,WAAW,GAAKmB,SAA1C,CAAqD,CACnDD,YAAY,CAAGP,IAAf,CACD,CAFD,IAGK,CACHO,YAAY,CAAGP,IAAI,CAACS,MAAL,CAAY,SAAAC,GAAG,QAAIrB,CAAAA,WAAW,CAACsB,WAAZ,GAA0BC,QAA1B,CAAmCF,GAAG,CAACG,IAAJ,CAASF,WAAT,EAAnC,CAAJ,EAAf,CAAf,CACD,CACD,GAAMG,CAAAA,cAAc,CAAGP,YAAY,CAACQ,GAAb,CAAiB,SAACL,GAAD,CAAMM,KAAN,qBAAgB,eAAC,OAAD,gCAAaN,GAAb,MAAkB,GAAG,CAAEM,KAAvB,GAAhB,EAAjB,CAAvB,CACA,mBACE,aAAK,SAAS,CAAC,eAAf,CAA+B,cAAY,SAA3C,wBAGE,aAAK,SAAS,CAAC,gBAAf,CAAgC,cAAY,WAA5C,wBACE,cAAO,IAAI,CAAC,QAAZ,CAAqB,SAAS,CAAC,gBAA/B,CAAgD,EAAE,CAAC,QAAnD,CAA4D,WAAW,CAAC,qBAAxE,EADF,cAEE,YAAK,SAAS,CAAC,gBAAf,qCAFF,GAHF,CAUGF,cAVH,GADF,CAcD,CAxBD,IAwBO,CACL,MAAO,sBAAP,CACD,CAEF,CAAC,MAAOG,KAAP,CAAc,CACd,MAAO,wBAAP,CACD,CACF,CACD,cAAe/B,CAAAA,OAAf","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './Sidebar.css';\nimport CatItem from '../../components/CatItem/CatItem.js';\nimport { useCat, useCatUpdate, useSearch, useSearchUpdate } from '../../contexts.js';\n\n\nfunction Sidebar() {\n\n  //contexts\n  let selected = useCat();\n  let select = useCatUpdate();\n  let searchValue = useSearch();\n  let search = useSearchUpdate();\n\n  //search keystroke handling\n\n  useEffect(() => {\n    const listener = event => {\n      if (event.code === \"Enter\" || event.code === \"NumpadEnter\") {\n        event.preventDefault();\n        let value = document.getElementById(\"search\").value;\n        search(value);\n      }\n    };\n    document.addEventListener(\"keydown\", listener);\n    return () => {\n      document.removeEventListener(\"keydown\", listener);\n    };\n  }, []);\n\n  try {\n    let cats = JSON.parse(localStorage.getItem(\"cats\"))\n    if(cats && Array.isArray(cats)){\n      //filter sidebar by search value\n      let filteredCats = null;\n      if (searchValue === \"\" || searchValue === undefined) {\n        filteredCats = cats;\n      }\n      else {\n        filteredCats = cats.filter(cat => searchValue.toLowerCase().includes(cat.name.toLowerCase()));\n      }\n      const itemComponents = filteredCats.map((cat, index) => <CatItem {...cat} key={index} />)\n      return (\n        <div className=\"items_wrapper\" data-testid=\"Sidebar\">\n          {//Search Bar\n          }\n          <div className=\"search_wrapper\" data-testid=\"SearchBar\">\n            <input type=\"search\" className=\"search_element\" id=\"search\" placeholder=\"Search Cats by Name\"></input>\n            <div className=\"search_element\">Hit Enter Key to Search</div>\n          </div>\n  \n          {//Cat Items\n          }\n          {itemComponents}\n        </div>\n      )\n    } else {\n      return \"Could not load cats.\";\n    }\n\n  } catch (error) {\n    return \"Could not load Sidebar\";\n  }\n}\nexport default Sidebar;\n"]},"metadata":{},"sourceType":"module"}
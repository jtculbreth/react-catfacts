{"ast":null,"code":"import _slicedToArray from\"/Users/johnculbreth/Documents/GitHub/react-catfacts/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState}from'react';import'./CatWindow.css';import{useCat,useCatUpdate}from'../../contexts.js';import{Button,Modal}from'react-bootstrap';//Main Display on Right\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var urlRegex=/^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;var months=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"];function CatWindow(){//get selected cat props from context\nvar selected=useCat();var select=useCatUpdate();//Edit Modal state + handlers\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),showEdit=_useState2[0],setShowEdit=_useState2[1];var handleCloseEdit=function handleCloseEdit(){return setShowEdit(false);};var handleShowEdit=function handleShowEdit(){return setShowEdit(true);};//Delete Modal state + handlers\nvar _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showDelete=_useState4[0],setShowDelete=_useState4[1];var handleShowDelete=function handleShowDelete(){return setShowDelete(true);};var handleCloseDelete=function handleCloseDelete(){return setShowDelete(false);};//determine localStorage index for cat to be edited/deleted\nvar cats=JSON.parse(localStorage.getItem(\"cats\"));var index;if(selected!=null){index=cats.findIndex(function(cat){return cat.id===selected.id;});}//Upon delete confirmation, splice array, return new JSON string, and set selected to null\nfunction handleConfirmDelete(){cats.splice(index,1);cats=JSON.stringify(cats);localStorage.setItem(\"cats\",cats);select(null);}//validate URL\nfunction is_url(str){if(urlRegex.test(str)){return true;}else{return false;}}function handleSaveEdit(){document.getElementById(\"catErrors\").innerHTML=\"\";var hasErrors=false;var errors=[];var newName=document.getElementById(\"name\").value;var newBirthday=document.getElementById(\"bday\").value;var newURL=document.getElementById(\"url\").value;var newOwner=document.getElementById(\"owner\").value;//validate url\nif(!is_url(newURL)){hasErrors=true;errors.push(\"Invalid URL\");}//validate other fields\nif(!newName||!newOwner||!newBirthday){hasErrors=true;errors.push(\"Please fill out all fields\");}//save changes if no errors\nif(!hasErrors&&typeof index===\"number\"){cats[index].name=newName;cats[index].thumbnail_url=newURL;cats[index].owner=newOwner;cats[index].birthdate=newBirthday;cats[index].views_count-=1;localStorage.setItem(\"cats\",JSON.stringify(cats));select(cats[index]);handleCloseEdit();}//display any errors\nelse{for(var i in errors){var error_div=document.createElement('div');error_div.innerHTML=errors[i];document.getElementById(\"catErrors\").append(error_div);}}}//check if cat props aren't in state, if not then welcome user\nif(selected==null){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to Cat Facts\"}),/*#__PURE__*/_jsx(\"div\",{className:\"pic jumbo_paw\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"Click a cat to see their facts\"})]});}else{//define picture div styling\nvar picStyle={backgroundImage:\"url(\".concat(selected.thumbnail_url,\")\")};//format birthday\nvar d=new Date(selected.birthdate);var day=d.getDate();var month=months[d.getMonth()];var year=d.getFullYear();var formattedDate=day+\" \"+month+\" \"+year;return/*#__PURE__*/_jsxs(\"div\",{className:\"window\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"picWrapper\",children:/*#__PURE__*/_jsx(\"div\",{className:\"pic\",style:picStyle})}),/*#__PURE__*/_jsxs(\"div\",{className:\"infoWrapper\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"paw\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"info\",children:[/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"windowName\",children:selected.name}),/*#__PURE__*/_jsx(\"div\",{\"data-testid\":\"windowDate\",children:formattedDate}),/*#__PURE__*/_jsx(\"div\",{children:selected.owner_name}),/*#__PURE__*/_jsxs(\"div\",{children:[\"Number of views: \",selected.views_count+1]}),/*#__PURE__*/_jsxs(\"div\",{className:\"buttons\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleShowEdit,children:\"Edit\"}),\" | \",/*#__PURE__*/_jsx(\"button\",{onClick:handleShowDelete,children:\"Delete\"})]})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showEdit,onHide:handleCloseEdit,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Edit Cat Facts\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-4 col-md-4 col-lg-4 form_label\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Thumbnail URL\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\"Birthday\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"label\",{children:\" Owner\"}),/*#__PURE__*/_jsx(\"br\",{})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-8 col-md-8 col-lg-8 form_input\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"url\",id:\"url\",\"data-testid\":\"urlInput\",placeholder:selected.thumbnail_url}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"name\",id:\"name\",\"data-testid\":\"editName\",placeholder:selected.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"bday\",id:\"bday\",\"data-testid\":\"editDate\",placeholder:selected.birthdate}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"select\",{id:\"owner\",name:\"owner\",\"data-testid\":\"editOwner\",children:/*#__PURE__*/_jsxs(\"option\",{value:selected.owner_name,children:[\" \",selected.owner_name]})})]}),/*#__PURE__*/_jsx(\"div\",{id:\"catErrors\"})]})}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseEdit,children:\"Close\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleSaveEdit,children:\"Save\"})]})]}),/*#__PURE__*/_jsxs(Modal,{show:showDelete,onHide:handleCloseDelete,children:[/*#__PURE__*/_jsx(Modal.Header,{children:/*#__PURE__*/_jsx(Modal.Title,{children:\"Delete\"})}),/*#__PURE__*/_jsx(Modal.Body,{children:\"Are you sure you want to delete this adorable cat?\"}),/*#__PURE__*/_jsxs(Modal.Footer,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:handleCloseDelete,children:\"No! It's too cute.\"}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",onClick:handleConfirmDelete,children:\"Yes, I am a merciless cat deleter\"})]})]})]});}};export default CatWindow;","map":{"version":3,"sources":["/Users/johnculbreth/Documents/GitHub/react-catfacts/src/components/CatWindow/CatWindow.js"],"names":["React","useState","useCat","useCatUpdate","Button","Modal","urlRegex","months","CatWindow","selected","select","showEdit","setShowEdit","handleCloseEdit","handleShowEdit","showDelete","setShowDelete","handleShowDelete","handleCloseDelete","cats","JSON","parse","localStorage","getItem","index","findIndex","cat","id","handleConfirmDelete","splice","stringify","setItem","is_url","str","test","handleSaveEdit","document","getElementById","innerHTML","hasErrors","errors","newName","value","newBirthday","newURL","newOwner","push","name","thumbnail_url","owner","birthdate","views_count","i","error_div","createElement","append","picStyle","backgroundImage","d","Date","day","getDate","month","getMonth","year","getFullYear","formattedDate","owner_name"],"mappings":"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","sourcesContent":["import React, { useState } from 'react';\nimport './CatWindow.css';\nimport { useCat, useCatUpdate } from '../../contexts.js';\nimport { Button, Modal } from 'react-bootstrap';\n\n//Main Display on Right\nconst urlRegex = /^(?:(?:https?|ftp):\\/\\/)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/\\S*)?$/;\nconst months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"];\n\nfunction CatWindow() {\n\n  //get selected cat props from context\n  const selected = useCat();\n  const select = useCatUpdate();\n\n  //Edit Modal state + handlers\n  const [showEdit, setShowEdit] = useState(false);\n\n  const handleCloseEdit = () => setShowEdit(false);\n  const handleShowEdit = () => setShowEdit(true);\n\n  //Delete Modal state + handlers\n  const [showDelete, setShowDelete] = useState(false)\n\n  const handleShowDelete = () => setShowDelete(true);\n  const handleCloseDelete = () => setShowDelete(false);\n\n  //determine localStorage index for cat to be edited/deleted\n  let cats = JSON.parse(localStorage.getItem(\"cats\"));\n  let index;\n  if (selected != null) {\n    index = cats.findIndex(cat => cat.id === selected.id);\n  }\n  //Upon delete confirmation, splice array, return new JSON string, and set selected to null\n  function handleConfirmDelete() {\n    cats.splice(index, 1);\n    cats = JSON.stringify(cats);\n    localStorage.setItem(\"cats\", cats);\n    select(null);\n  }\n\n  //validate URL\n  function is_url(str) {\n    if (urlRegex.test(str)) {\n      return true;\n    }\n    else {\n      return false;\n    }\n  }\n\n  function handleSaveEdit() {\n    document.getElementById(\"catErrors\").innerHTML = \"\";\n    let hasErrors = false;\n    const errors = [];\n    const newName = document.getElementById(\"name\").value;\n    const newBirthday = document.getElementById(\"bday\").value;\n    const newURL = document.getElementById(\"url\").value;\n    const newOwner = document.getElementById(\"owner\").value;\n\n    //validate url\n    if (!is_url(newURL)) {\n      hasErrors = true;\n      errors.push(\"Invalid URL\");\n    }\n    //validate other fields\n    if (!newName || !newOwner || !newBirthday) {\n      hasErrors = true;\n      errors.push(\"Please fill out all fields\");\n    }\n    //save changes if no errors\n    if (!hasErrors && typeof index === \"number\") {\n      cats[index].name = newName;\n      cats[index].thumbnail_url = newURL;\n      cats[index].owner = newOwner;\n      cats[index].birthdate = newBirthday;\n      cats[index].views_count -= 1;\n      localStorage.setItem(\"cats\", JSON.stringify(cats));\n      select(cats[index]);\n      handleCloseEdit();\n    }\n    //display any errors\n    else {\n      for (let i in errors) {\n        let error_div = document.createElement('div');\n        error_div.innerHTML = errors[i];\n        document.getElementById(\"catErrors\").append(error_div);\n      }\n    }\n\n  }\n\n  //check if cat props aren't in state, if not then welcome user\n  if (selected == null) {\n    return (\n      <div>\n        <h1>Welcome to Cat Facts</h1>\n        <div className=\"pic jumbo_paw\"></div>\n        <h3>Click a cat to see their facts</h3>\n      </div>\n    )\n  } else {\n    //define picture div styling\n    const picStyle = { backgroundImage: `url(${selected.thumbnail_url})` };\n\n    //format birthday\n    const d = new Date(selected.birthdate);\n    const day = d.getDate()\n    const month = months[d.getMonth()]\n    const year = d.getFullYear();\n    const formattedDate = day + \" \" + month + \" \" + year;\n\n\n    return (\n      <div className=\"window\">\n        <div className=\"picWrapper\">\n          <div className=\"pic\" style={picStyle}></div>\n        </div>\n        <div className=\"infoWrapper\">\n          <div className=\"paw\"></div>\n          <div className=\"info\">\n            <div data-testid=\"windowName\">{selected.name}</div>\n            <div data-testid=\"windowDate\">{formattedDate}</div>\n            <div>{selected.owner_name}</div>\n            <div>Number of views: {selected.views_count + 1}</div>\n            <div className=\"buttons\">\n              <button onClick={handleShowEdit}>Edit</button> | <button onClick={handleShowDelete}>Delete</button>\n            </div>\n          </div>\n        </div>\n\n        {/*EditForm Modal*/}\n        <Modal show={showEdit} onHide={handleCloseEdit}>\n          <Modal.Header>\n            <Modal.Title>Edit Cat Facts</Modal.Title>\n          </Modal.Header>\n\n          <Modal.Body>\n            <div className=\"row\">\n              <div className=\"col-sm-4 col-md-4 col-lg-4 form_label\">\n                <label >Thumbnail URL</label><br />\n                <label >Name</label><br />\n                <label >Birthday</label><br />\n                <label > Owner</label><br />\n              </div>\n              <div className=\"col-sm-8 col-md-8 col-lg-8 form_input\">\n                <input type=\"url\" name=\"url\" id=\"url\" data-testid=\"urlInput\" placeholder={selected.thumbnail_url} /><br />\n                <input type=\"text\" name=\"name\" id=\"name\" data-testid=\"editName\" placeholder={selected.name} /><br />\n                <input type=\"date\" name=\"bday\" id=\"bday\" data-testid=\"editDate\" placeholder={selected.birthdate} /><br />\n                <select id=\"owner\" name=\"owner\" data-testid=\"editOwner\">\n                  <option value={selected.owner_name}> {selected.owner_name}</option>\n                </select>\n              </div>\n              <div id=\"catErrors\"></div>\n            </div>\n\n          </Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleCloseEdit}>\n              Close\n            </Button>\n            <Button variant=\"primary\" onClick={handleSaveEdit}>\n              Save\n            </Button>\n          </Modal.Footer>\n\n        </Modal>\n\n        {/*DeleteForm Modal*/}\n        <Modal show={showDelete} onHide={handleCloseDelete}>\n          <Modal.Header>\n            <Modal.Title>Delete</Modal.Title>\n          </Modal.Header>\n          <Modal.Body>Are you sure you want to delete this adorable cat?</Modal.Body>\n          <Modal.Footer>\n            <Button variant=\"secondary\" onClick={handleCloseDelete}>\n              No! It's too cute.\n            </Button>\n            <Button variant=\"primary\" onClick={handleConfirmDelete}>\n              Yes, I am a merciless cat deleter\n            </Button>\n          </Modal.Footer>\n        </Modal>\n\n      </div>\n\n    )\n  }\n\n};\n\nexport default CatWindow;\n"]},"metadata":{},"sourceType":"module"}